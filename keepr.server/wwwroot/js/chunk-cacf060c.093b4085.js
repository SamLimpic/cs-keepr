(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cacf060c"],{"7d1d":function(t,e,a){"use strict";a("951c")},"951c":function(t,e,a){},e6f4:function(t,e,a){"use strict";a.r(e);var c=a("7a23");const s=Object(c["E"])("data-v-98558cb4");Object(c["u"])("data-v-98558cb4");const l={key:0,class:"vault container-fluid pt-md-4 pb-md-4 pb-2 px-md-5 px-3"},n={class:"row justify-content-start pt-2"},r={class:"col px-4 position-relative"},o={class:"row justify-content-start"},i={key:1,class:"font-xl ml-3 mt-1"},d=Object(c["h"])("i",{class:"fas fa-trash-alt"},null,-1),u={class:"font-lg"},b={key:0,class:"card-columns pt-md-2"},p={key:1,class:"row justify-content-center pt-5"},j=Object(c["h"])("div",{class:"col text-center pt-md-4 pt-2 px-4"},[Object(c["h"])("h3",{class:"font-xl"},[Object(c["h"])("i",null,"This Vault has no Keeps!")])],-1),O={key:1,class:"loading container-fluid pt-5"},v=Object(c["h"])("div",{class:"row justify-content-center"},[Object(c["h"])("div",{class:"col text-center pt-5"},[Object(c["h"])("i",{class:"fas fa-ring fa-spin font-xxl"})])],-1);Object(c["s"])();const m=s((t,e,a,s,m,f)=>{const h=Object(c["y"])("Keep");return s.state.loading?(Object(c["r"])(),Object(c["d"])("div",O,[v])):(Object(c["r"])(),Object(c["d"])("div",l,[Object(c["h"])("div",n,[Object(c["h"])("div",r,[Object(c["h"])("div",o,[s.state.activeVault.creatorId===s.state.account.id?(Object(c["r"])(),Object(c["d"])("h2",{key:0,class:"font-xl ml-3 mt-1 edit",onClick:e[1]||(e[1]=Object(c["D"])(()=>{},["stop"])),spellcheck:"false",contenteditable:"true",onBlur:e[2]||(e[2]=(...t)=>s.editName&&s.editName(...t))},[Object(c["h"])("u",null,Object(c["A"])(s.state.activeVault.name),1)],32)):(Object(c["r"])(),Object(c["d"])("h2",i,[Object(c["h"])("u",null,Object(c["A"])(s.state.activeVault.name),1)])),s.state.activeVault.creatorId===s.state.account.id?(Object(c["r"])(),Object(c["d"])("button",{key:2,type:"button","aria-label":"Delete Vault",class:"btn btn-outline-danger bg-transparent border-0 font-lg ml-md-3 ml-2","data-dismiss":"modal",onClick:e[3]||(e[3]=t=>s.deleteVault(s.state.activeVault))},[d])):Object(c["e"])("",!0)]),Object(c["h"])("h2",u," Keeps: "+Object(c["A"])(s.state.vaultKeeps.length),1)])]),s.state.vaultKeeps[0]?(Object(c["r"])(),Object(c["d"])("div",b,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["x"])(s.state.vaultKeeps,(t,e)=>(Object(c["r"])(),Object(c["d"])(h,{key:t.keepId,"keep-prop":t,"vault-keep-prop":s.state.vaultKeeps[e]},null,8,["keep-prop","vault-keep-prop"]))),128))])):(Object(c["r"])(),Object(c["d"])("div",p,[j]))]))});var f=a("83fc"),h=a("d10d"),y=a("5d40"),k=a("41cb"),w=a("6c02"),V={name:"Vault",setup(){const t=Object(w["c"])(),e=Object(c["v"])({loading:!0,account:Object(c["b"])(()=>f["a"].account),activeVault:Object(c["b"])(()=>f["a"].activeVault),vaultKeeps:Object(c["b"])(()=>f["a"].vaultKeeps)});return Object(c["p"])(async()=>{try{setTimeout((function(){e.loading=!1}),900),h["a"].setActiveVault(t.params.id),await h["a"].getVaultKeeps(t.params.id)}catch(a){y["a"].toast("Error: "+a,"error")}}),{state:e,async deleteVault(t){try{await y["a"].confirmAction("Are you sure?",t.name+" will be gone for good!","warning","Delete "+t.name)?(await h["a"].deleteVault(t.id),k["a"].push({name:"Profile",params:{id:t.creatorId}}),y["a"].toast(t.name+" was deleted!","success")):y["a"].toast(`No worries! ${t.name} is still here!`,"info")}catch(e){y["a"].toast("Error: "+e,"error")}},async editName(t){try{e.activeVault.name=t.target.innerText,await h["a"].editVault(e.activeVault)}catch(a){y["a"].toast("Error: "+a,"error")}}}}};a("7d1d");V.render=m,V.__scopeId="data-v-98558cb4";e["default"]=V}}]);